{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2022-12-16 15:46:36.071734",
 "css": ".margin{\n line-height: 0.14!important;\n padding-bottom:1!important;\n}\n.master{\n    width:100%;\n    border:1px solid black;\n    font-family:arial;\n    font-size:10px;\n}\n\n.master table{\n    font-family:arial;\n    font-size:10px;\n    color:black;\n    width:100%;\n    line-height: 1.1!important;\n}\n\n.right1 tr{\n    border-bottom:1px solid black;\n}\n\n.right1 td{\n    /*border-left:1px solid black;*/\n}\n\n.left1{\n    float:left;\n    width:50%;\n    line-height: 1;\n}\n\n.right1{\n    float:right;\n    width:50%;\n    line-height: 1!important;\n}\ntable .hsn{\n    width:100;\n}\n.hsn tr{\n    border-top:1px solid black;\n}",
 "custom_format": 1,
 "default_print_language": "en-US",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "font_size": 14,
 "html": "<h6 style=\"text-align:center;\"><b>Tax Invoice</b></h6>\n<div class=\"e-invoice\">\n                \n         <div style=\"width:100%;display:flex;flex-wrap:nowrap; padding-left: 5px;\">\n             <div style=\"width:50%;overflow-wrap: break-word;\">\n                 \n                    IRN : {% if doc.irn %}{{doc.irn}}{% endif %} <br>\n                    Ack.No: {% if doc.ack_no %} {{\"\"}}{% endif %}<br>\n                    Ack Date:{% if doc.ack_date%} {{\"\"}}{% endif %}<br>\n             </div>\n             \n             <div style=\"width:50%;text-align:center;padding-top:3px\">\n               {% if doc.qrcode_image %} <img  src=\"{{ doc.qrcode_image }}\"  width=\"102\" \n        height=\"80\">{% endif %}<br>\n             </div>\n       \n</div>\n    \n</div>\n<div class=\"master\">\n    <div class=\"left1\">\n        <p style=\"border-bottom:1px solid black;padding:3px;line-height: 1.5;height:107px;\">\n            {%set com_add = frappe.db.get_value(\"Dynamic Link\", {\"parenttype\":\"Address\",\"link_doctype\":\"Company\",\"link_name\":doc.company},\"parent\")%} \n       \n            <b>{{doc.company}}</b><br>\n                  {%if com_add %}\n            {%set add = frappe.get_doc(\"Address\",com_add)%} \n            {{add.address_line1}}<br>\n            {{add.address_line2}},{{add.city}}<br>\n            GSTIN/UIN:  {{add.gstin}}<br>\n            State Name :  {{add.state}}<br>\n            Pincode : {{add.pincode}}\n        </p>\n         {% endif %}\n\n        <!--{% if doc.customer_address %}-->\n        <!--{% set customer_add=frappe.get_doc('Address',doc.customer_address) %}-->\n        \n        <!--<p style=\"border-bottom:1px solid black;padding:3px;line-height: 1.5;height:107px;\">-->\n        <!--    Buyer(Bill to):<br>-->\n        <!--    {% if customer_add %}-->\n        <!--        <b>{{customer_add.address_title or \" \"}}</b><br>-->\n        <!--        {{customer_add.address_line1 or \" \"}},<br>-->\n        <!--        {{customer_add.address_line2 or \" \"}},<br>-->\n        <!--        {{customer_add.city or \" \"}} - {{customer_add.pincode or \" \"}}<br>-->\n        <!--        {{customer_add.phone or \" \"}}<br>-->\n        <!--        GSTIN/UIN : {{customer_add.gstin or \" \"}}<br>-->\n        <!--        State Name : {{customer_add.gst_state or \" \"}}, Code: {{customer_add.gst_state_number or \" \"}}<br>-->\n        <!--    {% else %} <br>-->\n        <!--    {% endif %}-->\n                \n        <!--</p>-->\n        <!--{% endif %}-->\n        <p style=\"solid black;line-height: 1.5;height:107px;\">\n            Buyer (Bill to)<br>\n            <b>{{doc.customer}}</b><br>\n            \n     {%if doc.customer_address %}\n{%set dis_add = frappe.get_doc(\"Address\",{\"name\":doc.customer_address})%}\n\n            {{dis_add.address_line1 or \"\"}},<br>\n            {{dis_add.address_line2 or  \"\"}}, {{dis_add.city or  \"\"}}<br>\n             GSTIN/UIN: {{dis_add.gstin or \"\"}}<br>\n             State Name : {{dis_add.state or  \"\"}}<br>\n             Pincode : {{dis_add.pincode}}\n        </p>\n        {% endif %}\n    </div>\n    <div class=\"right1\" style=\"border-bottom:1px solid black;border-left:1px solid black;\">\n        <table>\n            <tr>\n                <td style=\"text-align:left\">Invoice No.<br><b>{{doc.name}}</b></td><td style=\"text-align:right\">e-Way Bill No.<br>{{doc.ewaybill}}</td>\n                <td style=\"border-left:1px solid black\">Dated <br><b> {{doc.get_formatted(\"posting_date\")}}</b></td>\n            </tr>\n        </table>\n        <table>\n            <tr> \n                 {% set deli =[]%}\n                 {% set deli_doc = frappe.get_all(\"Delivery Note Item\" ,filters={'against_sales_invoice':doc.name} ,pluck=\"parent\") %}\n                 {% set deli_doc_1 = frappe.get_all(\"Sales Invoice Item\" ,filters={'parent':doc.name} ,pluck=\"delivery_note\") %}\n                 {% if deli_doc[0] %}\n                     {% for i in deli_doc %}\n                         {% if i not in deli %}\n                            {% set _ = deli.append(i) %}\n                         {% endif %}\n                     {% endfor %}\n                 {% elif deli_doc_1[0] %}\n                 {% for i in deli_doc_1 %}\n                         {% if i not in deli %}\n                            {% set _ = deli.append(i) %}\n                         {% endif %}\n                     {% endfor %}\n                \n                 {% endif %}\n                <td width=\"50%\">Delivery Note<br><b>{{\", \".join(deli)}}</b></td>\n                 {% set customer=frappe.get_doc('Customer',doc.customer) %}\n                <td style=\"border-left:1px solid black\">Mode/Terms of Payment<br><b>{% if customer.payment_terms %}{{customer.payment_terms}}{% else %}<br>{% endif %}</b></td>\n            </tr>\n            <tr>\n                <td >Reference No. & Date.<br><br>{% for i in doc.items %} {{i.sales_order or \"\"}} {% endfor %}</td>\n                <td style=\"border-left:1px solid black;\">Other Reference(s)<br></td>\n            </tr>\n            <tr>\n                <td>Buyers Order No.<br><b>{% if doc.po_no %}{{doc.po_no}}{% else %}<br>{% endif %}</b></td>\n                <td style=\"border-left:1px solid black;\">Dated<br><b>{% if doc.get_formatted(\"due_date\") %}{{ doc.get_formatted(\"due_date\") }}{% else %}<br>{% endif %} </b></td>\n            </tr>\n            <tr>\n                <td>Despatch Document No.<br><b>{% if doc.despatch_document_no %}{{ doc.despatch_document_no }}{% else %}<br>{% endif %}</b></td>\n                {% set date =[]%}\n               \n                {% for i in deli %}\n                {% set _ = date.append(frappe.get_all(\"Delivery Note\",fields=['posting_date'],filters={'name':i},pluck=\"posting_date\")[0].strftime('%d-%m-%y')) %}\n                {% endfor %}\n                <td style=\"border-left:1px solid black\" >Delivery Note Date<br><b>{{ \", \".join(date) }}</b></td>\n            </tr>\n            <tr>\n                <td>Despatch through</td>\n                <!--<br><b>{% if doc.ts_despatch_through %}{{ doc.ts_despatch_through }}{% else %}<br>{% endif %}</b>-->\n                <td style=\"border-left:1px solid black\">Destination<br><b>{% if customer_add %}{{ customer_add.city }}{% else %}<br>{% endif %}</b></td>\n            </tr>\n            <tr>\n                <td>Bill of Landing/LR-RR No.<br><b>{% if doc.city_port_of_loading %}{{ doc.city_port_of_loading }}{% else %}<br>{% endif %}</b></td>\n                <td style=\"border-left:1px solid black;\">Motor Vehicle No<br><b></b></td>\n            </tr>\n                <tr style=\"border-bottom:0px;\">\n                    <td style=\"height:155px;\">Terms of Delivery<br><span>{% if doc.terms %}{{ doc.terms }}{% else %}<br>{% endif %}</span><br></td> \n                    \n                </tr>\n        </table>\n    </div>\n    <div class = \"margin\">\n    <table>\n        <tr style=\"text-align:center;border-bottom:1px solid black;border-top:1px solid black;\">\n            <td style=\"width:7%;border-right:1px solid black;\">SI No</td>\n            <td style=\"width:44%;border-right:1px solid black;\">Description of Goods</td>\n            <td style=\"width:10%;border-right:1px solid black;\">HSN/SAC</td>\n            <td style=\"width:7%;border-right:1px solid black;\">GST Rate</td>\n            <td style=\"width:2%;border-right:1px solid black;\">Qty</td>\n            <td style=\"width:10%;border-right:1px solid black;\">Rate</td>\n            <td style=\"width:5%;border-right:1px solid black;\">Per</td>\n            <td style=\"width:15%\">Amount</td>\n        </tr>\n        {% for i in doc.items %} \n            <tr>\n                <td style=\"text-align:center;border-right:1px solid black;\">{{loop.index or \"\"}}</td>\n                <td style=\"border-right:1px solid black;\">{{i.item_name or \"\"}}</td>\n                <td style=\"border-right:1px solid black;\">{{i.gst_hsn_code or \"\"}}</td>\n                <td style=\"border-right:1px solid black;\">12 %</td>\n                <td style=\"border-right:1px solid black;\">{{i.qty or \"\"}}</td>\n                <td style=\"border-right:1px solid black;\">{{i.rate or \"\"}}</td>\n                <td style=\"border-right:1px solid black;\">{{i.uom or \"\"}}</td>\n                {% if i.amount %}\n                <td ><b>\u20b9 {{i.amount or \"\"}}</b></td>\n                {% else %}\n                <td></td>\n                {%endif%}\n            </tr>\n            {% endfor %}\n            {% for i in doc.taxes %}\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<tr>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<td style=\"text-align:center;border-right:1px solid black;\"></td>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<td style=\"border-right:1px solid black;text-align:right;\">{{i.description or \"\"}}</td>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<td style=\"border-right:1px solid black;text-align:right;\"></td>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<td style=\"text-align:center;border-right:1px solid black;\"></td>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<td style=\"text-align:center;border-right:1px solid black;\"></td>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<td style=\"border-right:1px solid black;text-align:right;\">{{i.rate or \"\"}}</td>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<td style=\"text-align:left;border-right:1px solid black;\">{{\"%\"}}</td>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<td style=\"text-align:right;\"><b>{{i.tax_amount or \"\"}}</b></td>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</tr>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{% endfor %}\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{%if doc.rounding_adjustment%}\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<tr style=\"border-top:1px solid black;border-bottom:1px solid black;\">\n            <td></td>\n             <td style=\"border-right:1px solid black;\"></td>\n            <td style=\"border-right:1px solid black;text-align:right;\">Rounded Total</td>\n            <td style=\"border-right:1px solid black;\"></td>\n            <td style=\"border-right:1px solid black;text-align:right;\"></td>\n            <td style=\"border-right:1px solid black;\"></td>\n            <td style=\"border-right:1px solid black;text-align:right;\"></td>\n            <td style=\"text-align:right;\"><b>{{doc.rounding_adjustment or \"\"}}</b></td>\n        </tr>\n        {% endif %}\n        <tr style=\"border-top:1px solid black;border-bottom:1px solid black;\">\n            <td></td>\n             <td style=\"border-right:1px solid black;\"></td>\n            <td style=\"border-right:1px solid black;text-align:right;\">Total</td>\n            <td style=\"border-right:1px solid black;\"></td>\n            <td style=\"border-right:1px solid black;\">{{doc.total_qty or \"\"}}</td>\n            <td style=\"border-right:1px solid black;\"></td>\n            <td style=\"border-right:1px solid black;text-align:right;\"></td>\n            <td><b>\u20b9 {{doc.outstanding_amount or \"\"}}</b></td>\n        </tr>\n    </table>\n            </div>\n\n    <table>\n        <tr>\n            <td> Amount Chargeable (in words): <br><b>{{doc.in_words or \"\"}}</b></td>\n            <td style=\"text-align:right;\">E. & O.E</td>\n        </tr>\n    </table>\n    {%if doc.tax_category==\"In-State\"%}\n     <table>\n        \n        <tr>\n            <td style=\"width:50%;text-align:center;border-right:1px solid black;border-top:1px solid black;\">HSN/SAC</td>\n            <td style=\"text-align:center;border-top:1px solid black;border-right:1px solid black;\">Taxable</td>\n            <td colspan=\"2\" style=\"border-top:1px solid black;border-right:1px solid black;text-align:center;\">Central Tax</td>\n            <td colspan=\"2\" style=\"border-top:1px solid black;border-right:1px solid black;text-align:center;\">State Tax</td>\n            <td style=\"border-top:1px solid black;border-right:1px solid black;text-align:center;\">Total </td>\n        </tr>\n        <tr>\n            <td style=\"text-align:center;border-right:1px solid black;\"></td>\n            <td style=\"text-align:center;border-right:1px solid black;\">Value</td>\n            <td style=\"border-right:1px solid black;border-top:1px solid black;text-align:center;\">Rate</td>\n            <td style=\"border-right:1px solid black;border-top:1px solid black;text-align:center;\">Amount</td>\n            <td style=\"border-right:1px solid black;border-top:1px solid black;text-align:center;\">Rate</td>\n            <td style=\"border-right:1px solid black;border-top:1px solid black;text-align:center;\">Amount</td>\n            <td style=\"border-right:1px solid black;text-align:center;\">Tax Amount</td>\n        </tr>\n       {% for hsn in doc.ts_tax_breakup_gst_table %}\n        <tr style=\"text-align:center;border-top:1px solid black;\">\n            <td style=\"width:50%;border-right:1px solid black;border-top:1px solid black;\">{{hsn.ts_hsn_code}}</td>\n            <td style=\"text-align:center;border-right:1px solid black;\">{{hsn.ts_taxable_values}}</td>\n            <td style=\"text-align:center;border-right:1px solid black;\">{{hsn.ts_state_tax}}</td>\n            <td style=\"text-align:center;border-right:1px solid black;\">{{'%0.2f' % hsn.ts_state_amount}}</td>\n            <td style=\"text-align:center;border-right:1px solid black;\">{{hsn.ts_central_tax}}</td>\n            <td style=\"text-align:center;border-right:1px solid black;\">{{'%0.2f' % hsn.ts_central_amount }}</td>\n            <td style=\"text-align:center;border-right:1px solid black;\">{{'%0.2f' % hsn.ts_total_tax_amount}}</td>\n            \n        {% endfor %}    \n        </tr>\n        <tr style=\"border-bottom:1px solid black;border-top:1px solid black;\">\n            <td style=\"width:50%;border-right:1px solid black;text-align:right;border-top:1px solid black;\">{{\"Total\"}}</td>\n            <td style=\"text-align:center;border-right:1px solid black;\">{{taxable_values|sum}}</td>\n            <td style=\"text-align:center;border-right:1px solid black;\"></td>\n            <td style=\"text-align:center;border-right:1px solid black;\">{{'%0.2f' % samount|sum}}</td>\n            <td style=\"text-align:center;border-right:1px solid black;\"></td>\n            <td style=\"text-align:center;border-right:1px solid black;\">{{'%0.2f' % camount|sum}}</td>\n            <td style=\"text-align:center;border-right:1px solid black;\">{{'%0.2f' % total|sum}}</td>\n        </tr>\n    </table>\n    {%elif doc.tax_category==\"Out-State\"%}\n    <table class=\"hsn\">\n        <thead>\n        <tr>\n            <td style=\"width:50%;text-align:center;border-right:1px solid black;\" rowspan = \"2\">HSN/SAC</td>\n            <td style=\"text-align:center;\" rowspan = \"2\">Taxable Value</td>\n            <td style=\"text-align:center;border-left:1px solid black;\" colspan = \"2\">Integrated Tax</td>\n            <td style=\"text-align:center;border-left:1px solid black;\" rowspan = \"2\">Taxable Value</td>\n        </tr>\n        <tr>\n            <td style=\"text-align:center;border-right:1px solid black;border-left:1px solid black;\"> Rate </td>\n            <td style=\"text-align:center;border-right:1px solid black;\"> Amount</td>\n        </tr>\n        </thead>\n        <tbody>\n        {% for i in doc.ts_tax_breakup_gst_table %}\n        <tr style=\"border-bottom:1px solid black;\">\n            <td style=\"width:50%;border-right:1px solid black;text-align:center\">{{i.ts_hsn_code or \"\" }}</td>\n            <td style=\"text-align:center;border-right:1px solid black;\">{{ i.ts_taxable_values or \"\" }}</td>\n            <td style=\"text-align:center;border-right:1px solid black;\"> {{i.ts_igst_tax or \"\" }}</td>\n            <td style=\"text-align:center;border-right:1px solid black;\"> {{i.ts_igst_amount or \"\"}}<br></td>\n            <td>{{i.ts_total_tax_amount or \"\"}}</td>\n        </tr>\n        {% endfor %}\n        <tr style=\"border-bottom:1px solid black;\">\n            <td style=\"width:50%;border-right:1px solid black;text-align:right\">Total</td>\n            <td style=\"text-align:center;border-right:1px solid black;\">{{doc.total}}</td>\n            <td style=\"text-align:center;border-right:1px solid black;\"> </td>\n            <td style=\"text-align:center;border-right:1px solid black;\"> {{doc.total_taxes_and_charges or \"\"}}</td>\n            <td>{{frappe.utils.fmt_money(doc.total_taxes_and_charges,currency=\"INR\") or \"\"}}</td>\n            \n        </tr>\n         </tbody>\n    </table>\n    {%endif%}\n    <div>\n        <table >\n            <tr>\n                <td>\n            Tax Amount(in Words)&nbsp;&nbsp;: {{ frappe.utils.money_in_words(doc.rounded_total) }}<br><br>\n            Company's PAN&nbsp;&nbsp;:ANTPS 6485 K<br><br>\n            <u>Declaration:</u><br>\n            <p>We declare that this invoice shows the actual price of the good<br>\n            described and that all particulars are true and correct\n            </p>\n            \n            \n           </td>\n<td style=\"text-align:width:49.2%;\">\n            <br><br>\n            Company's Bank Detals<br>\n            {%set acc = frappe.get_doc(\"Bank Account\",{\"company\":doc.company})%}\n           \n            A/c Holder's Name&nbsp;&nbsp;&nbsp;&nbsp; : {{acc.account_name or \"\"}}               <br>\n            Bank Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : {{acc.bank or \"\"}}              <br>\n            A/c No&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : {{acc.bank_account_no or \"\"}}            <br>\n            Branch & IFSC Code&nbsp;&nbsp;: {{acc.branch_code or \"\"}}            <br>           \n            SWIFT Code&nbsp;&nbsp;: {{acc.swift_code or \"\"}}            <br>          \n            </td>\n            \n            </tr>\n        </table>\n    </div>\n    <table class=\"hsn\">\n        <tr>\n            <td>\n                Customer's Seal and Signature\n            </td>\n            <td style=\"text-align:right;border-left:1px solid black;width:49.2%;\">\n                for {{doc.company}}\n                <br>\n                <br>\n                <br>\n                Authorised Signature\n            </td>\n        </tr>\n    </table>\n    </div>\n   ",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2022-12-17 18:49:47.451109",
 "modified_by": "Administrator",
 "module": "Sunmetals",
 "name": "Sales Invoice Print Format",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}